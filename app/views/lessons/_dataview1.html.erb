<p>Data View</p>


  <svg id="Aratings">
</svg>

<script>

var data = gon.ratings;




var width = 1000;
var height = 300;
var barWidth = (width/data.length);

var x = d3.scale.linear().domain([0, data.length]).range([0, width]);
var y = d3.scale.linear().domain([0, 5]).range([0, height]);

// add the canvas to the DOM
var barDemo = d3.select("#Aratings");

barDemo.selectAll("g").
  data(data).
  enter().
  append("svg:rect").
  attr("x", function(datum, index) { return x(index); }).
  attr("y", function(datum) { return height - y(datum.value); }).
  attr("height", y(height)).
  attr("width", barWidth).
  attr("fill", "#73b2ff");

  barDemo.selectAll("text").
  data(data).
  enter().
  append("svg:text").
  attr("x", function(datum, index) { return x(index); }).
  attr("y", function(datum) { return height - y(datum.value); }).
  attr("dx", barWidth/2).
  attr("dy", "1em").
  attr("text-anchor", "middle").
  attr("style", "font-size: 8; font-family: Helvetica, sans-serif").
  text(function(datum) { return datum.value;}).
  attr("fill", "white");


  </script>

